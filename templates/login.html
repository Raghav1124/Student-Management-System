<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login - Student Management System</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <!-- Custom CSS -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/transitions.css') }}"
    />

    <style>
      body {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        padding: 20px;
      }

      .login-container {
        max-width: 400px;
        margin: 0 auto;
        animation: slideInRight 0.6s ease-out;
      }

      .login-card {
        border-radius: 20px;
        border: none;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .login-header {
        background: linear-gradient(135deg, #4361ee, #3a0ca3);
        padding: 40px 20px;
        text-align: center;
        color: white;
      }

      .login-body {
        padding: 40px;
        background: white;
      }

      .form-control {
        padding: 12px 15px;
        border-radius: 10px;
        border: 2px solid #e0e0e0;
        transition: all 0.3s ease;
      }

      .form-control:focus {
        border-color: #4361ee;
        box-shadow: 0 0 0 0.25rem rgba(67, 97, 238, 0.25);
      }

      .btn-login {
        background: linear-gradient(135deg, #4361ee, #3a0ca3);
        border: none;
        padding: 12px;
        border-radius: 10px;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .btn-login:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(67, 97, 238, 0.3);
      }

      .login-footer {
        text-align: center;
        padding: 20px;
        background: #f8f9fa;
        border-top: 1px solid #e0e0e0;
      }

      .brand-logo {
        font-size: 2.5rem;
        margin-bottom: 10px;
      }

      .demo-credentials {
        background: #f8f9fa;
        border-radius: 10px;
        padding: 15px;
        margin-top: 20px;
        font-size: 0.9rem;
      }
    </style>
  </head>
  <body>
    <div class="login-container">
      <div class="login-card">
        <div class="login-header">
          <div class="brand-logo">
            <i class="bi bi-mortarboard-fill"></i>
          </div>
          <h2 class="mb-2">Student Management System</h2>
          <p class="mb-0 opacity-75">
            Welcome back! Please sign in to continue
          </p>
        </div>

        <div class="login-body">
          {% with messages = get_flashed_messages(with_categories=true) %} {% if
          messages %} {% for category, message in messages %}
          <div
            class="alert alert-{{ category }} alert-dismissible fade show mb-4"
            role="alert"
          >
            {{ message }}
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="alert"
            ></button>
          </div>
          {% endfor %} {% endif %} {% endwith %}

          <form method="POST" action="/" id="loginForm">
            <div class="mb-4">
              <label for="username" class="form-label fw-semibold">
                <i class="bi bi-person-fill me-2"></i>Username
              </label>
              <input
                type="text"
                class="form-control"
                id="username"
                name="username"
                placeholder="Enter your username"
                required
                autofocus
              />
            </div>

            <div class="mb-4">
              <label for="password" class="form-label fw-semibold">
                <i class="bi bi-lock-fill me-2"></i>Password
              </label>
              <input
                type="password"
                class="form-control"
                id="password"
                name="password"
                placeholder="Enter your password"
                required
              />
              <div class="form-text text-end">
                <a href="#" class="text-decoration-none">Forgot password?</a>
              </div>
            </div>

            <div class="mb-4 form-check">
              <input type="checkbox" class="form-check-input" id="rememberMe" />
              <label class="form-check-label" for="rememberMe"
                >Remember me</label
              >
            </div>

            <button type="submit" class="btn btn-login w-100">
              <i class="bi bi-box-arrow-in-right me-2"></i>Sign In
            </button>
          </form>

          <!-- Demo Credentials -->
          <div class="demo-credentials mt-4">
            <h6 class="mb-2">
              <i class="bi bi-info-circle me-2"></i>Demo Credentials
            </h6>
            <div class="row">
              <div class="col-6">
                <small class="text-muted">Teachers:</small><br />
                <small><strong>Teacher A</strong> / pass123</small>
              </div>
              <div class="col-6">
                <small class="text-muted">Students:</small><br />
                <small><strong>Alice</strong> / alice123</small>
              </div>
            </div>
          </div>
        </div>

        <div class="login-footer">
          <p class="mb-0">
            Don't have an account?
            <a href="/signup" class="text-decoration-none fw-semibold"
              >Sign up</a
            >
          </p>
        </div>
      </div>

      <!-- Features -->
      <div class="row mt-4">
        <div class="col-md-4 mb-3">
          <div class="text-center text-white">
            <i class="bi bi-shield-check fs-3 mb-2"></i>
            <p class="mb-0 small">Secure Login</p>
          </div>
        </div>
        <div class="col-md-4 mb-3">
          <div class="text-center text-white">
            <i class="bi bi-speedometer2 fs-3 mb-2"></i>
            <p class="mb-0 small">Real-time Dashboard</p>
          </div>
        </div>
        <div class="col-md-4 mb-3">
          <div class="text-center text-white">
            <i class="bi bi-phone fs-3 mb-2"></i>
            <p class="mb-0 small">Mobile Friendly</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/transitions.js') }}"></script>

    <script>
      // Form submission animation
      document
        .getElementById("loginForm")
        .addEventListener("submit", function (e) {
          const submitBtn = this.querySelector('button[type="submit"]');
          const originalText = submitBtn.innerHTML;

          // Show loading state
          submitBtn.innerHTML =
            '<span class="spinner-border spinner-border-sm me-2"></span>Signing in...';
          submitBtn.disabled = true;

          // Allow form to submit
          setTimeout(() => {
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
          }, 2000);
        });

      // Add animation to form elements
      document.addEventListener("DOMContentLoaded", function () {
        const inputs = document.querySelectorAll(".form-control");
        inputs.forEach((input, index) => {
          input.style.animationDelay = `${index * 0.1}s`;
          input.classList.add("fade-in");
        });
      });
    </script>
  </body>
</html>
